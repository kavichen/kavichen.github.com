<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>用户身份切换</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<h1 id="toc_1"><code>su</code></h1>
<h2 id="toc_1.1">切换成root</h2>
<ul>
<li>
<code>su -</code>

</ul>
<hr />
<h2 id="toc_1.2">完整地切换到新用户的环境</h2>
<ul>
<li>
<code>su -username</code> 或 <code>su -l username</code>

</ul>
<hr />
<h2 id="toc_1.3">仅想要执行一次root命</h2>
<ul>
<li>
<code>su - -c "命令串"</code>

</ul>
<hr />
<hr />
<h1 id="toc_2"><code>sudo</code></h1>
<h2 id="toc_2.1">以root身份执行<code>sudo</code></h2>
<ul>
<li>
<code>sudo [-b] [-u 新用户账号]</code>

<li>
步骤

<ol>
<li>
当用户执行<code>sudo</code>时,系统于<code>/etc/sudoers</code>文件中查找该用户是否有执行<code>sudo</code>的权限

<li>
若用户具有执行<code>sudo</code>的权限后,便让用户输入自己的密码来确认

<li>
若密码输入成功,便开始执行<code>sudo</code>后续接的命令(但<code>root</code>执行<code>sudo</code>时不需要输入密码)

<li>
若切换的身份与执行者的身份相同,那也不需要输入密码

</ol>
</ul>
<hr />
<hr />
<h1 id="toc_3">visudo 与 <code>/etc/sudoers</code></h1>
<p>
从上面的说明我们可以知道,除了root以外的其他账号,若想要是用<code>sudo</code>执行属于root的权限命令,则root需要先是用visudo去修改<code>/etc/sudoers</code>,让该账号能够是用全部或者部分的root命令
</p>
<ul>
<li>
<code>visudo</code>

<li>
{{{
  ...
  pi ALL=(ALL) NOPASSWD: ALL
  kavi ALL=(ALL)         ALL

</ul>
<p>
}}}
</p>
<ol>
<li>
用户账号 哪个系统账号可以使用<code>sudo</code>

<li>
登陆者的来源主机名

<li>
可切换的身份

<li>
可执行的命令

<li>
<code>NOPASSWD</code>表示免除密码输入的意思

</ol>

</body>
</html>
